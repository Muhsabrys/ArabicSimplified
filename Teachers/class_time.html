<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Time Converter - Context Teachers</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-slate-50 to-cyan-50 min-h-screen">
    
    <nav class="bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-3 hover:opacity-80 transition">
                <i class="fas fa-arrow-left text-2xl"></i>
                <span class="text-xl hidden md:inline">Back</span>
            </a>
            <h1 class="text-3xl font-bold">Class Time Converter</h1>
        </div>
    </nav>

    <div class="container mx-auto px-6 py-12 max-w-2xl">
        <div class="bg-white rounded-2xl shadow-lg p-8">
            <div class="text-center mb-8">
                <i class="fas fa-clock text-6xl text-cyan-500 mb-4"></i>
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Class Time Converter</h2>
                <p class="text-gray-600">Convert class times across timezones for international students</p>
            </div>

            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Class Time (12-hour format)</label>
                    <div class="flex gap-4">
                        <input type="time" id="classTime" value="14:00" class="flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-cyan-500 outline-none">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Your Timezone</label>
                    <select id="fromTz" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-cyan-500 outline-none">
                        <option value="UTC-8">Pacific (UTC-8)</option>
                        <option value="UTC-7">Mountain (UTC-7)</option>
                        <option value="UTC-6">Central (UTC-6)</option>
                        <option value="UTC-5">Eastern (UTC-5)</option>
                        <option value="UTC+0">GMT/UTC</option>
                        <option value="UTC+1">Central Europe (UTC+1)</option>
                        <option value="UTC+2">Eastern Europe/Cairo (UTC+2)</option>
                        <option value="UTC+3">Arabia/East Africa (UTC+3)</option>
                        <option value="UTC+5:30">India (UTC+5:30)</option>
                        <option value="UTC+8">Singapore/China (UTC+8)</option>
                        <option value="UTC+9">Tokyo (UTC+9)</option>
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Student's Timezone</label>
                    <select id="toTz" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-cyan-500 outline-none">
                        <option value="UTC-8">Pacific (UTC-8)</option>
                        <option value="UTC-7">Mountain (UTC-7)</option>
                        <option value="UTC-6">Central (UTC-6)</option>
                        <option value="UTC-5">Eastern (UTC-5)</option>
                        <option value="UTC+0">GMT/UTC</option>
                        <option value="UTC+1">Central Europe (UTC+1)</option>
                        <option value="UTC+2" selected>Eastern Europe/Cairo (UTC+2)</option>
                        <option value="UTC+3">Arabia/East Africa (UTC+3)</option>
                        <option value="UTC+5:30">India (UTC+5:30)</option>
                        <option value="UTC+8">Singapore/China (UTC+8)</option>
                        <option value="UTC+9">Tokyo (UTC+9)</option>
                    </select>
                </div>

                <button onclick="convertTime()" class="w-full bg-gradient-to-r from-cyan-600 to-blue-600 text-white py-3 rounded-lg font-bold text-lg hover:shadow-lg transition">
                    <i class="fas fa-exchange-alt mr-2"></i>Convert Time
                </button>
            </div>

            <!-- Result -->
            <div id="result" class="hidden mt-8 bg-gradient-to-br from-cyan-100 to-blue-100 rounded-2xl p-8 border-4 border-cyan-600 text-center">
                <p class="text-gray-600 text-lg mb-4">Student sees this time:</p>
                <p id="resultTime" class="text-5xl font-bold text-cyan-600 mb-2"></p>
                <p id="resultDate" class="text-lg text-gray-700"></p>
            </div>

            <div class="mt-8 p-6 bg-blue-50 rounded-xl border-2 border-blue-200">
                <h3 class="font-bold text-blue-900 mb-3">ðŸ’¡ Quick Reference</h3>
                <div class="text-sm text-blue-800 space-y-2">
                    <p>â€¢ 2:00 PM EST = 7:00 PM GMT = 9:00 PM Cairo</p>
                    <p>â€¢ 10:00 AM PST = 1:00 PM EST = 6:00 PM GMT</p>
                    <p>â€¢ Save this for recurring class times</p>
                </div>
            </div>
        </div>
    </div>

    <script src="../ai-assistant.js"></script>
    <script>
        function convertTime() {
            const timeStr = document.getElementById('classTime').value;
            const fromTz = document.getElementById('fromTz').value;
            const toTz = document.getElementById('toTz').value;

            const [hours, minutes] = timeStr.split(':').map(Number);
            
            // Parse timezone offsets
            const fromOffset = parseOffset(fromTz);
            const toOffset = parseOffset(toTz);
            
            // Calculate difference
            const diff = toOffset - fromOffset;
            
            // Convert time
            let newHours = hours + Math.floor(diff);
            const newMinutes = minutes;
            
            // Handle day wrap
            const dayOffset = newHours >= 24 ? 1 : (newHours < 0 ? -1 : 0);
            newHours = ((newHours % 24) + 24) % 24;
            
            const ampm = newHours >= 12 ? 'PM' : 'AM';
            const displayHours = newHours % 12 || 12;
            
            const timeFormatted = `${String(displayHours).padStart(2, '0')}:${String(newMinutes).padStart(2, '0')} ${ampm}`;
            const dayText = dayOffset > 0 ? '(Next Day)' : (dayOffset < 0 ? '(Previous Day)' : '(Same Day)');
            
            document.getElementById('resultTime').textContent = timeFormatted;
            document.getElementById('resultDate').textContent = dayText;
            document.getElementById('result').classList.remove('hidden');
        }

        function parseOffset(tz) {
            if (tz === 'UTC+5:30') return 5.5;
            const match = tz.match(/UTC([+-])(\d+)/);
            return match ? parseInt(match[1] + match[2]) : 0;
        }

        // Auto-convert on input
        document.getElementById('classTime').addEventListener('change', convertTime);
        document.getElementById('fromTz').addEventListener('change', convertTime);
        document.getElementById('toTz').addEventListener('change', convertTime);
    </script>
</body>
</html>
